<!doctype html>
<html lang="en">
  <head>
    <!-- Supabase Configuration -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
      // Set your Supabase credentials here if needed
      // window.SUPABASE_URL = 'https://your-project.supabase.co';
      // window.SUPABASE_ANON_KEY = 'your-anon-key';
    </script>
    <script src="supabase-client.js"></script>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NEXT STEP | Admin Registration</title>
    <link rel="stylesheet" href="../style.css" />
    <link rel="stylesheet" href="adminstyle.css" />
  </head>

  <body>
    <div class="login-page-wrapper">
      <div class="container">
        <div class="logo-wrapper">
          <img
            src="logo/blue-orange-circle-logo-01.jpg"
            class="nav-logo"
            alt="Next Step logo"
            onerror="
              this.onerror = null;
              this.src = 'logo/blue-orange-circle-logo-01.jpg';
            "
          />
        </div>
        <h2>Create Admin Account</h2>

        <form id="admin-register-form">
          <label>Full name</label>
          <input name="fullName" type="text" placeholder="Jane Doe" required />

          <label>Employee ID</label>
          <input
            name="employeeId"
            type="text"
            placeholder="e.g. DEV-001 or EMP-001"
            pattern="[A-Z]+-[0-9]+"
            title="Format: PREFIX-NUMBER (e.g., DEV-001, EMP-001)"
            required
          />

          <label>Email</label>
          <input
            name="email"
            type="email"
            placeholder="name@example.com"
            required
          />

          <label>Password</label>
          <div class="password-input-wrapper">
            <input
              id="regPassword"
              name="password"
              type="password"
              placeholder="Create a password"
              required
            />
            <button
              type="button"
              id="toggleRegPassword"
              class="toggle-password-btn"
              title="Show/Hide Password"
            >
              Show
            </button>
          </div>

          <div class="status" style="display: none"></div>
          <button type="submit" class="btn">Create account</button>
          <div class="email-confirm-note">
            After signing up, you must confirm your email address using the link
            sent to your inbox before you can log in.
          </div>
        </form>

        <div class="login-footer">
          <a class="back-link" href="index.html">‚Üê Back to login</a>
        </div>
      </div>
    </div>

    <!-- IMPORTANT: Script Loading Order -->
    <!-- 1. Configuration FIRST (must be before supabase library) -->
    <script src="config.js"></script>

    <!-- 2. Supabase Library -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>

    <!-- 3. Supabase Client Initialization -->
    <script src="supabase-client.js" defer></script>

    <!-- 4. Database Helper -->
    <script src="db-helper.js" defer></script>

    <!-- 5. Page-Specific Scripts -->
    <script src="audit-logger.js" defer></script>
    <script src="admin-register.js" defer></script>
  </body>
</html>
