<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.min.js"></script>
    <style>
        body { margin: 0; padding: 20px; background: white; }
        .diagram { margin: 40px 0; page-break-after: always; }
        svg { background: white; }
    </style>
</head>
<body>
<div class="diagram" id="dfd">
<div class="mermaid" id="dfdContent">
graph LR
    subgraph Ext["ğŸ”µ EXTERNAL ENTITIES"]
        User["ğŸ‘¤ Admin User"]
        Source["ğŸ—„ï¸ Data Source"]
    end
    
    subgraph Proc["ğŸŸ¢ PROCESSES"]
        P1["Authentication<br/>Module"]
        P2["Bulk Upload<br/>Processor"]  
        P3["Career Status<br/>Tracker"]
        P4["Audit Trail<br/>Logger"]
        P5["Employment<br/>Manager"]
    end
    
    subgraph Store["ğŸ”µ DATA STORES"]
        D1[("Alumni<br/>Database")]
        D2[("Career<br/>Database")]
        D3[("Audit<br/>Database")]
    end
    
    User -->|Login| P1
    P1 -->|Token| User
    User -->|CSV| P2
    P2 -->|Records| D1
    P2 -->|Events| P4
    P4 -->|Logs| D3
    D1 -->|Data| P3
    P3 -->|Status| D2
    D1 -->|Employment| P5
    D2 -->|Career| P5
    P5 -->|Reports| User
</div>
</div>

<div class="diagram" id="flowchart">
<div class="mermaid" id="fcContent">
graph TD
    Start(["START"]):::startEnd
    
    S1["ğŸ“„ Open Upload Page"]:::process
    S2["ğŸ“ Select CSV File"]:::process
    S3["ğŸ” Parse CSV"]:::process
    
    D1{{"âœ“ Valid?"}}:::decision
    E1["âŒ Error"]:::error
    
    S4["ğŸ“‹ Preview 50 Records"]:::process
    S5["ğŸ‘† Confirm"]:::process
    
    D2{{"âœ“ Confirmed?"}}:::decision
    
    S6["ğŸ”Œ Connect Database"]:::process
    Loop["ğŸ”„ For Each Record"]:::process
    S7["ğŸ“ Extract: name, email"]:::process
    
    D3{{"âœ“ Valid?"}}:::decision
    S8["ğŸ’¾ Insert to DB"]:::process
    D4{{"âœ“ Success?"}}:::decision
    
    Error["âš ï¸ Log & Skip"]:::error
    S9["âœ… Log to Audit"]:::process
    
    D5{{"More Records?"}}:::decision
    
    S10["ğŸ“Š Results Summary"]:::process
    S11["ğŸ”„ Refresh Dashboard"]:::process
    
    End(["END"]):::startEnd
    
    Start --> S1
    S1 --> S2
    S2 --> S3
    S3 --> D1
    D1 -->|NO| E1
    E1 --> S2
    D1 -->|YES| S4
    S4 --> S5
    S5 --> D2
    D2 -->|NO| S2
    D2 -->|YES| S6
    S6 --> Loop
    Loop --> S7
    S7 --> D3
    D3 -->|NO| Error
    D3 -->|YES| S8
    S8 --> D4
    D4 -->|NO| Error
    D4 -->|YES| S9
    Error --> D5
    S9 --> D5
    D5 -->|YES| Loop
    D5 -->|NO| S10
    S10 --> S11
    S11 --> End
    
    classDef startEnd fill:#90EE90,stroke:#228B22,stroke-width:3px,color:#000
    classDef process fill:#ADD8E6,stroke:#0047AB,stroke-width:2px,color:#000
    classDef decision fill:#FFFFE0,stroke:#FFD700,stroke-width:2px,color:#000
    classDef error fill:#FFB6C6,stroke:#DC143C,stroke-width:2px,color:#000
</div>
</div>

<script>
    mermaid.initialize({ startOnLoad: true, theme: 'base' });
    mermaid.contentLoaded();
</script>
</body>
</html>
